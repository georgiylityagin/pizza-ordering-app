{"version":3,"sources":["redux/reducers/cart.js","redux/types.js","redux/reducers/firebase.js","redux/rootReducer.js","redux/store.js","firebase/firebase.utils.js","components/Header/Header.jsx","redux/actions/firebase.js","components/Footer/Footer.jsx","components/ScrollTop/ScrollTop.jsx","redux/actions/cart.js","components/MenuCard/MenuCard.jsx","components/Menu/Menu.jsx","pages/Main/MainPage.jsx","components/CartItem/CartItem.jsx","components/FormDialog/FormDialog.jsx","components/ShoppingCart/ShoppingCart.jsx","pages/Cart/CartPage.jsx","components/History/History.jsx","pages/History/HistoryPage.jsx","App.js","index.js"],"names":["initialState","items","numberOfItems","totalPrice","deliveryCost","freeDeliveryThreshold","calcTotalPrice","total","reduce","acc","item","price","quantity","calcNumberOfItems","count","cartReducer","state","action","type","payload","filter","id","size","map","currentUser","undefined","history","firebaseReducer","rootReducer","combineReducers","cart","firebase","store","createStore","applyMiddleware","thunk","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","createUserProfileDocument","userAuth","additionalData","a","userRef","firestore","doc","uid","get","exists","displayName","email","createdAt","Date","set","console","log","message","auth","provider","GoogleAuthProvider","setCustomParameters","prompt","signInWithGoogle","signInWithPopup","useStyles","makeStyles","header","marginBottom","title","flexGrow","fontWeight","fontSize","HeaderConnected","connect","unauthUser","classes","useHistory","AppBar","position","className","Toolbar","to","src","alt","width","Button","variant","color","endIcon","style","marginRight","onClick","push","signOut","CircularProgress","Badge","badgeContent","React","memo","grey","blueGrey","Footer","Box","bgcolor","Typography","align","theme","root","bottom","spacing","right","children","trigger","useScrollTrigger","disableHysteresis","threshold","Zoom","in","event","anchor","target","ownerDocument","document","querySelector","scrollIntoView","behavior","block","role","removeItem","increaseQuantity","decreaseQuantity","calculateTotalPrice","calculateNumberOfItems","formControl","minWidth","MenuCardConnected","addItem","imageId","category","ingredients","volume","useState","setSize","setQuantity","useEffect","currentItem","length","Paper","gutterBottom","component","FormControl","InputLabel","Select","value","onChange","MenuItem","toFixed","disabled","key","Fab","aria-label","CartItemConnected","IconButton","FormDialogConnected","submitOrder","contacts","dispatch","date","toLocaleString","collection","add","then","catch","error","submitOrderUnauth","open","setOpen","paymentMethod","setPaymentMethod","name","setName","address","setAddress","setEmail","handleClose","handleInputChange","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","TextField","required","autoFocus","margin","label","fullWidth","FormLabel","RadioGroup","row","FormControlLabel","control","Radio","DialogActions","ShoppingCartConnected","ind","CartPage","table","HistoryConnected","ordersHistory","fetchHistory","querySnapshot","forEach","data","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","order","HistoryPage","createMuiTheme","palette","primary","main","secondary","accent","AppConnected","authUser","unsubscribeFromAuth","onAuthStateChanged","userAuthInfo","onSnapshot","snapShot","ThemeProvider","path","exact","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0f3e74d7.chunk.js","sourcesContent":["import {\n  ADD_ITEM,\n  REMOVE_ITEM,\n  INCREASE_QUANTITY,\n  DECREASE_QUANTITY,\n  CALCULATE_TOTAL_PRICE,\n  CALCULATE_NUMBER_OF_ITEMS,\n  SUBMIT_ORDER\n} from '../types';\n\nconst initialState = {\n  items: [],\n  numberOfItems: 0,\n  totalPrice: 0,\n  deliveryCost: 10,\n  freeDeliveryThreshold: 20\n};\n\n\nconst cartReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_ITEM:\n      return {\n        ...state,\n        items: [...state.items, action.payload]\n      };\n    case REMOVE_ITEM:\n      return {\n        ...state,\n        items: state.items.filter(item => (\n          item.id !== action.payload.id || item.size !== action.payload.size\n        ))\n      };\n    case INCREASE_QUANTITY:\n      return {\n        ...state,\n        items: state.items.map(item => (\n          item.id === action.payload.id && item.size === action.payload.size\n            ? {...item, quantity: item.quantity + 1}\n            : item\n        ))\n      };\n    case DECREASE_QUANTITY:\n      return {\n        ...state,\n        items: state.items.map(item => (\n          item.id === action.payload.id && item.size === action.payload.size\n            ? {...item, quantity: item.quantity - 1}\n            : item\n        )).filter(item => item.quantity >= 0)\n      };\n    case CALCULATE_TOTAL_PRICE:\n      return {\n        ...state,\n        totalPrice: calcTotalPrice(state)\n      };\n    case CALCULATE_NUMBER_OF_ITEMS:\n      return {\n        ...state,\n        numberOfItems: calcNumberOfItems(state)\n      };\n    case SUBMIT_ORDER:\n      return {\n        ...state,\n        items: [],\n        numberOfItems: 0,\n        totalPrice: 0\n      }\n    default:\n      return state;\n  }\n};\n\n\nfunction calcTotalPrice({items, deliveryCost, freeDeliveryThreshold}) {\n  let total = items.reduce((acc, item) => (\n    acc += item.price * item.quantity\n  ), 0);\n\n  if (total < freeDeliveryThreshold) {\n    total += deliveryCost;\n  }\n\n  return total;\n};\n\nfunction calcNumberOfItems({items}) {\n  let count = 0;\n\n  for (let item of items) {\n   count += item.quantity; \n  }\n\n  return count;\n}\n\n\nexport default cartReducer;\n","// Cart action types\nexport const ADD_ITEM = 'ADD_ITEM';\nexport const REMOVE_ITEM = 'REMOVE_ITEM';\nexport const INCREASE_QUANTITY = 'INCREASE_QUANTITY';\nexport const DECREASE_QUANTITY = 'DECREASE_QUANTITY';\nexport const CALCULATE_TOTAL_PRICE = 'CALCULATE_TOTAL_PRICE';\nexport const CALCULATE_NUMBER_OF_ITEMS = 'CALCULATE_NUMBER_OF_ITEMS';\n\n// Firebase action types\nexport const AUTH_USER = 'AUTH_USER';\nexport const UNAUTH_USER = 'UNAUTH_USER';\nexport const SUBMIT_ORDER = 'SUBMIT_ORDER';\nexport const FETCH_HISTORY = 'FETCH_HISTORY';","import {\n  AUTH_USER,\n  UNAUTH_USER,\n  FETCH_HISTORY\n} from '../types';\n\nconst initialState = {\n  currentUser: undefined,\n  history: null\n};\n\n\nconst firebaseReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case AUTH_USER:\n      return {\n        ...state,\n        currentUser: action.payload\n      };\n    case UNAUTH_USER:\n      return {\n        ...state,\n        currentUser: null\n      }\n    case FETCH_HISTORY:\n      return {\n        ...state,\n        history: action.payload\n      }\n    default:\n      return state;\n  }\n};\n\nexport default firebaseReducer;","import { combineReducers } from 'redux';\nimport cart from './reducers/cart';\nimport firebase from './reducers/firebase';\n\nconst rootReducer = combineReducers({\n  cart,\n  firebase\n});\n\nexport default rootReducer;","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './rootReducer';\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\nexport default store;","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nconst config = {\n  apiKey: \"AIzaSyD0Wqd5wQ3tL41SGTzcU6h4AIxtji99l9o\",\n  authDomain: \"pizza-app-a6ddf.firebaseapp.com\",\n  databaseURL: \"https://pizza-app-a6ddf.firebaseio.com\",\n  projectId: \"pizza-app-a6ddf\",\n  storageBucket: \"pizza-app-a6ddf.appspot.com\",\n  messagingSenderId: \"56197935098\",\n  appId: \"1:56197935098:web:f6472abd8fa16389cb3e43\"\n};\n\nfirebase.initializeApp(config);\n\nexport const createUserProfileDocument = async (userAuth, additionalData) => {\n  if (!userAuth) return;\n\n  const userRef = firestore.doc(`users/${userAuth.uid}`);\n\n  const snapShot = await userRef.get();\n\n  if (!snapShot.exists) {\n    const { displayName, email } = userAuth;\n    const createdAt = new Date();\n    try {\n      await userRef.set({\n        displayName,\n        email,\n        createdAt,\n        ...additionalData\n      });\n    } catch (error) {\n      console.log('error creating user', error.message);\n    }\n  }\n\n  return userRef;\n};\n\nexport const auth = firebase.auth();\nexport const firestore = firebase.firestore();\n\nconst provider = new firebase.auth.GoogleAuthProvider();\nprovider.setCustomParameters({prompt: 'select_account'});\n\nexport const signInWithGoogle = () => auth.signInWithPopup(provider);\n\nexport default firebase;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport PersonIcon from '@material-ui/icons/Person';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport HistoryIcon from '@material-ui/icons/History';\nimport ShoppingCart from '@material-ui/icons/ShoppingCart';\nimport Badge from '@material-ui/core/Badge';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { unauthUser } from '../../redux/actions/firebase'\nimport { auth, signInWithGoogle } from '../../firebase/firebase.utils';\n\nimport './Header.scss';\n\nconst useStyles = makeStyles(() => ({\n  header: {\n    marginBottom: '20px'\n  },\n  title: {\n    flexGrow: 1,\n    fontWeight: 700,\n    fontSize: 26\n  },\n}));\n\nconst Header = ({currentUser, unauthUser, numberOfItems}) => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const handleSignOut = () => {\n    auth.signOut();\n    unauthUser();\n  }\n\n  return (\n    <>\n    <div id=\"back-to-top-anchor\" />\n    <AppBar position=\"sticky\" className={classes.header}>\n      <div className=\"container\">\n        <Toolbar>\n          <div className=\"header-brand\">\n            <NavLink to=\"/\">\n              <img \n                className=\"header-brand__icon\"\n                src=\"./logo.svg\"\n                alt=\"brand-logo\"\n                width=\"42px\"\n              />\n            </NavLink>\n\n            <NavLink to=\"/\" className=\"header-brand__title\">\n              CALL <span>OF</span> PIZZA\n            </NavLink>\n          </div>\n\n          {currentUser ? (       \n            <>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                endIcon={<HistoryIcon style={{fontSize: 24 }} />}\n                style={{marginRight: '15px'}}\n                onClick={() => history.push('/history')}\n              ><span className=\"button__text\">History</span></Button>\n\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                endIcon={<ExitToAppIcon style={{fontSize: 24}} />}\n                style={{marginRight: '15px'}}\n                onClick={handleSignOut}\n              ><span className=\"button__text\">Sign out</span></Button>\n            </>\n            ) : ( currentUser === undefined ? \n            <CircularProgress color=\"accent\" style={{marginRight: 35}} /> :\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              endIcon={<PersonIcon style={{fontSize: 24}} />}\n              style={{marginRight: '15px'}}\n              onClick={signInWithGoogle}\n            ><span className=\"button__text\">Sign in with google</span></Button>\n            )}\n\n          <Button\n          variant=\"contained\"\n          color=\"primary\"\n          endIcon={\n            <Badge color=\"secondary\" badgeContent={numberOfItems}>\n              <ShoppingCart />\n            </Badge>\n          }\n          onClick={() => history.push('/cart')}\n        >Cart</Button>\n\n        </Toolbar>\n      </div>\n    </AppBar>\n    </>\n  )\n};\n\nconst mapStateToProps = ({cart, firebase}) => ({\n  numberOfItems: cart.numberOfItems,\n  currentUser: firebase.currentUser\n});\n\nconst HeaderConnected = connect(mapStateToProps, {\n  unauthUser\n})(Header);\n\nexport default React.memo(HeaderConnected);\n","import {\n  AUTH_USER,\n  UNAUTH_USER,\n  SUBMIT_ORDER,\n  FETCH_HISTORY\n} from '../types';\n\nimport {firestore} from '../../firebase/firebase.utils';\n\nexport const authUser = (currentUser) => ({\n  type: AUTH_USER,\n  payload: currentUser\n});\n\nexport const unauthUser = () => ({\n  type: UNAUTH_USER,\n});\n\nexport const submitOrderUnauth = () => ({\n  type: SUBMIT_ORDER\n});\n\nexport const submitOrder = ({userAuth, items, totalPrice, contacts}) => (dispatch) => {\n  const date = new Date().toLocaleString();\n\n  firestore.doc(`users/${userAuth.id}`)\n    .collection('orders')\n    .add({items, date, totalPrice, contacts})\n    .then(() => {\n      dispatch({type: SUBMIT_ORDER});\n    })\n    .catch(error => {\n      console.log('error placing order: ', error.message);\n    })\n};\n\nexport const fetchHistory = (userAuth) => (dispatch) => {\n  firestore.doc(`users/${userAuth.id}`)\n    .collection('orders').get()\n    .then((querySnapshot) => {\n      const history = [];\n\n      querySnapshot.forEach(doc => {\n        const {date, items, totalPrice, contacts} = doc.data();\n\n        history.push({\n          id: doc.id,\n          date,\n          items,\n          totalPrice,\n          contacts\n        });\n      })\n\n      console.log(history);\n\n      dispatch({type: FETCH_HISTORY, payload: history})\n    })\n    .catch(error => {\n      console.log('error fetching history: ', error.message);\n    })\n};","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport blueGrey from '@material-ui/core/colors/blueGrey';\nimport './Footer.scss';\n\nconst grey = blueGrey[500];\n\nconst Footer = () => (\n  <Box className=\"footer\" bgcolor={grey} color=\"#fff\">\n    <Typography align=\"center\" variant=\"body2\">\n      &copy; 2020 Georgiy Lityagin. Test assignment for Innoscripta International.\n    </Typography>\n  </Box>\n);\n\nexport default Footer;\n","import React from 'react';\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Zoom from '@material-ui/core/Zoom';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n  },\n}));\n\nconst ScrollTop = ({ children }) => {\n  const classes = useStyles();\n\n  const trigger = useScrollTrigger({\n    disableHysteresis: true,\n    threshold: 100,\n  });\n\n  const handleClick = (event) => {\n    const anchor = (event.target.ownerDocument || document).querySelector('#back-to-top-anchor');\n\n    if (anchor) {\n      anchor.scrollIntoView({ behavior: 'smooth', block: 'center' });\n    }\n  };\n\n  return (\n    <Zoom in={trigger}>\n      <div onClick={handleClick} role=\"presentation\" className={classes.root}>\n        {children}\n      </div>\n    </Zoom>\n  );\n}\n\nexport default React.memo(ScrollTop);\n","import {\n  ADD_ITEM,\n  INCREASE_QUANTITY,\n  DECREASE_QUANTITY,\n  REMOVE_ITEM,\n  CALCULATE_TOTAL_PRICE,\n  CALCULATE_NUMBER_OF_ITEMS\n} from '../types';\n\nexport const addItem = ({id, title, size, imageId, price}) => ({\n  type: ADD_ITEM,\n  payload: {id, title, size, imageId, price, quantity: 1}\n});\n\nexport const removeItem = (id, size) => ({\n  type: REMOVE_ITEM,\n  payload: {id, size}\n});\n\nexport const increaseQuantity = (id, size) => ({\n  type: INCREASE_QUANTITY,\n  payload: {id, size}\n});\n\nexport const decreaseQuantity = (id, size) => ({\n  type: DECREASE_QUANTITY,\n  payload: {id, size}\n});\n\nexport const calculateTotalPrice = () => ({\n  type: CALCULATE_TOTAL_PRICE\n});\n\nexport const calculateNumberOfItems = () => ({\n  type: CALCULATE_NUMBER_OF_ITEMS\n});","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport {\n  addItem,\n  removeItem,\n  increaseQuantity,\n  decreaseQuantity,\n  calculateTotalPrice,\n  calculateNumberOfItems} from '../../redux/actions/cart';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport './MenuCard.scss';\n\nconst useStyles = makeStyles(() => ({\n  formControl: {\n    minWidth: 120,\n  },\n}));\n\nconst MenuCard = ({\n  id,\n  category,\n  imageId,\n  title,\n  ingredients,\n  volume,\n  price,\n  items,\n  addItem,\n  removeItem,\n  increaseQuantity,\n  decreaseQuantity,\n  calculateTotalPrice,\n  calculateNumberOfItems\n}) => {\n  const classes = useStyles();\n  const [size, setSize] = useState('small');\n  const [quantity, setQuantity] = useState({});\n\n  const handleChange = (event) => {\n    setSize(event.target.value);\n  };\n\n  const handleAddItem = () => {\n    addItem({\n      id,\n      title,\n      size,\n      imageId,\n      price: price[size]\n    });\n    calculateNumberOfItems();\n    calculateTotalPrice();\n  };\n\n  const handleIncrease = () => {\n    increaseQuantity(id, size);\n    calculateNumberOfItems();\n    calculateTotalPrice();\n  };\n\n  const handleDecrease = () => {\n    if (quantity[size] === 1) {\n      removeItem(id, size);\n      setQuantity({...quantity, [size]: 0});\n    } else {\n      decreaseQuantity(id, size);\n    }\n    calculateNumberOfItems();\n    calculateTotalPrice();\n  }\n\n\n  useEffect(() => {\n   let currentItem = items.filter(item => item.id === id && item.size === size);\n\n   if (currentItem.length > 0) {\n     setQuantity({...quantity, [size]: currentItem[0].quantity});\n   }\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [items, id, size]);\n\n  return (\n    <Paper className=\"menu-item\">\n      <div className=\"menu-item__media\">\n        <img\n          src={`./img/${imageId}.jpg`}\n          alt={title}\n          width=\"220px\"\n        />\n      </div>\n\n      <div className=\"menu-item__content\">\n        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n          {title}\n        </Typography>\n        {\n          ingredients && (\n            <Typography variant=\"body2\" component=\"p\" color=\"secondary\">\n              {ingredients}\n            </Typography>\n          )\n        }\n      </div>\n\n      <div>\n        <div className=\"menu-item__options\">\n          {\n            category === \"pizza\" ?\n              <FormControl className={classes.formControl}>\n                <InputLabel>Size</InputLabel>\n                <Select\n                  value={size}\n                  onChange={handleChange}\n                >\n                  <MenuItem value='small'>\n                    <Typography variant='body2'>\n                      small &mdash; 25cm\n                    </Typography>\n                  </MenuItem>\n                  <MenuItem value='medium'>\n                    <Typography variant='body2'>\n                      medium &mdash; 30cm\n                    </Typography>\n                  </MenuItem>\n                  <MenuItem value='big'>\n                    <Typography variant='body2'>\n                      big &mdash; 35cm\n                    </Typography>\n                  </MenuItem>\n                </Select>\n              </FormControl> :\n              <div>\n                <Typography variant=\"caption\" color=\"secondary\">volume:</Typography>\n                <Typography variant=\"body2\">{volume} l</Typography>\n              </div>\n          }\n\n          <div className=\"menu-item__price\">\n            <div className=\"menu-item__price-dollars\">\n              {(price[size]).toFixed(2)} &#36;\n            </div>\n            <div className=\"menu-item__price-euro\">\n              {(price[size] * 0.9).toFixed(2)} &euro;\n            </div>\n          </div>\n        </div>\n\n        <div className=\"menu-item__actions\">\n          <Button\n            className=\"submit-btn\"\n            variant=\"outlined\"\n            color='primary'\n            disabled={quantity[size] ? true : false}\n            onClick={handleAddItem}\n          >\n            {quantity[size] ? 'In cart' : 'Add to cart'}\n          </Button>\n\n          {\n            quantity[size]\n              ? <div className=\"menu-item__quantity\">\n                  <button\n                    className=\"change-quantity\"\n                    onClick={handleDecrease}\n                  >-</button>\n                    <span className=\"quantity-value\">\n                      {quantity[size]}\n                    </span>\n                  <button\n                    className=\"change-quantity\"\n                    onClick={handleIncrease}\n                  >+</button>\n                </div>\n              : null\n          }\n\n        </div>\n      </div>\n    </Paper>\n  )\n};\n\nconst mapStateToProps = ({cart}) => ({\n  items: cart.items\n});\n\nconst MenuCardConnected = connect(mapStateToProps, {\n  addItem,\n  removeItem,\n  increaseQuantity,\n  decreaseQuantity,\n  calculateTotalPrice,\n  calculateNumberOfItems\n})(MenuCard);\n\nexport default React.memo(MenuCardConnected);\n","import React from 'react';\nimport MenuCard from '../MenuCard/MenuCard';\n\nimport './Menu.scss';\n\nconst Menu = ({items}) => {\n\n  return (\n    <>\n      <h2 className=\"menu-title\">Pizza</h2>\n\n      <div className=\"menu\">\n        {items\n          .filter(item => item.category === 'pizza')\n          .map(item => (\n            <MenuCard key={item.id} {...item} />\n          ))}\n      </div>\n\n      <h2 className=\"menu-title\">Drinks</h2>\n\n      <div className=\"menu\">\n        {items\n          .filter(item => item.category === 'drinks')\n          .map(item => (\n            <MenuCard key={item.id} {...item} />\n          ))}\n      </div>\n    </>\n  )\n}\n\nexport default React.memo(Menu);\n","import React from 'react';\nimport Fab from '@material-ui/core/Fab';\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\nimport ScrollTop from '../../components/ScrollTop/ScrollTop';\nimport Menu from '../../components/Menu/Menu';\n\nconst MainPage = ({items}) => (\n  <>\n    <div className=\"mainContent\">\n      <div className=\"container\">\n        <Menu items={items}/>\n      </div>\n    </div>\n\n    <ScrollTop>\n      <Fab color=\"primary\" size=\"medium\" aria-label=\"scroll back to top\">\n        <KeyboardArrowUpIcon />\n      </Fab>\n    </ScrollTop>\n  </>\n);\n\nexport default React.memo(MainPage);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport {\n  removeItem,\n  increaseQuantity,\n  decreaseQuantity,\n  calculateTotalPrice,\n  calculateNumberOfItems\n} from '../../redux/actions/cart';\n\nimport './CartItem.scss';\n\nconst CartItem = ({\n  id,\n  title,\n  size, \n  imageId,\n  price,\n  quantity,\n  removeItem,\n  increaseQuantity,\n  decreaseQuantity,\n  calculateTotalPrice,\n  calculateNumberOfItems\n}) => {\n\n  const handleIncrease = () => {\n    increaseQuantity(id, size);\n    calculateNumberOfItems();\n    calculateTotalPrice();\n  };\n\n  const handleDecrease = () => {\n    if (quantity === 1) {\n      removeItem(id, size);\n    } else {\n      decreaseQuantity(id, size);\n    }\n    calculateNumberOfItems();\n    calculateTotalPrice();\n  }\n\n  const handleDelete = () => {\n    removeItem(id, size);\n    calculateNumberOfItems();\n    calculateTotalPrice();\n  }\n\n  return (\n    <li className=\"cart-item\">\n      <div className=\"cart-item__main-info\">\n        <img\n          className=\"cart-item__image\"\n          src={`./img/${imageId}.jpg`}\n          alt={title}\n        />\n        <div className=\"cart-item__description\">\n          <h3 className=\"cart-item__title\">{title}</h3>\n          <div className=\"cart-item__size\">{size}</div>\n        </div>\n      </div>\n\n      <div style={{flexGrow: 1}}></div>\n\n        <div className=\"cart-item__controls\">\n          <button\n            className=\"cart-item__change-quantity\"\n            onClick={handleDecrease}\n          >-</button>\n            <span className=\"cart-item__quantity\">\n              {quantity}\n            </span>\n          <button\n            className=\"cart-item__change-quantity\"\n            onClick={handleIncrease}\n          >+</button>\n        </div>\n\n        <div className=\"cart-item__price\">\n          <div className=\"cart-item__price-dollars\">\n            {price.toFixed(2)} &#36;\n          </div>\n          <div className=\"cart-item__price-euro\">\n            {(price * 0.9).toFixed(2)} &euro;\n          </div>\n        </div>\n\n        <IconButton aria-label=\"delete\" onClick={handleDelete} className=\"cart-item__delete\">\n          <DeleteIcon fontSize=\"default\" />\n        </IconButton>\n    </li>\n  )\n};\n\nconst CartItemConnected = connect(null, {\n  removeItem,\n  increaseQuantity,\n  decreaseQuantity,\n  calculateTotalPrice,\n  calculateNumberOfItems\n})(CartItem);\n\nexport default React.memo(CartItemConnected);\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport { submitOrder, submitOrderUnauth } from '../../redux/actions/firebase';\n\nimport './FormDialog.scss';\n\nconst FormDialog = ({userAuth, items, totalPrice, submitOrder, submitOrderUnauth}) => {\n  const history = useHistory();\n  const [open, setOpen] = useState(false);\n  const [paymentMethod, setPaymentMethod] = useState('cash');\n  const [name, setName] = useState('');\n  const [address, setAddress] = useState('');\n  const [email, setEmail] = useState('');\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handlePayment = (event) => {\n    setPaymentMethod(event.target.value);\n  };\n\n  const handleInputChange = (event) => {\n    switch (event.target.id) {\n      case 'name':\n        setName(event.target.value);\n        break;\n      case 'address':\n        setAddress(event.target.value);\n        break;\n      case 'email':\n        setEmail(event.target.value);\n        break;\n      default:\n    }\n  }\n\n  const handleSubmit = () => {\n    const contacts = {\n      name,\n      address,\n      email,\n      paymentMethod\n    };\n\n    userAuth\n      ? submitOrder({userAuth, items, totalPrice, contacts})\n      : submitOrderUnauth();\n\n    history.push('/history');\n  };\n\n  return (\n    <div>\n      <Button\n        size=\"large\"\n        color=\"primary\"\n        variant=\"contained\"\n        onClick={handleClickOpen}\n      >\n        Make an order\n      </Button>\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Leave us your contacts</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            <p>\n              Please, fill your contact information in the little form below.<br />\n              We will deliver your order in 1 hour!\n            </p>\n          </DialogContentText>\n          <TextField\n            required\n            autoFocus\n            margin=\"dense\"\n            id=\"name\"\n            label=\"Your name\"\n            type=\"text\"\n            onChange={handleInputChange}\n            fullWidth\n          />\n          <TextField\n            required\n            margin=\"dense\"\n            id=\"address\"\n            label=\"Address\"\n            type=\"text\"\n            onChange={handleInputChange}\n            fullWidth\n          />\n          <TextField\n            required\n            margin=\"dense\"\n            id=\"email\"\n            label=\"E-mail\"\n            onChange={handleInputChange}\n            fullWidth\n          />\n          <FormControl component=\"fieldset\" className=\"form-dialog__payment\">\n            <FormLabel component=\"legend\">Payment Method</FormLabel>\n            <RadioGroup row aria-label=\"payment\" name=\"payment1\" value={paymentMethod} onChange={handlePayment}>\n              <FormControlLabel value=\"cash\" control={<Radio />} label=\"Cash\" />\n              <FormControlLabel value=\"credit card\" control={<Radio />} label=\"Credit card\" />\n            </RadioGroup>\n          </FormControl>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\" variant=\"outlined\">\n            Cancel\n          </Button>\n          <Button onClick={handleSubmit} color=\"primary\" variant=\"contained\">\n            Confirm order\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  )\n};\n\nconst mapStateToProps = ({cart, firebase}) => ({\n  items: cart.items,\n  totalPrice: cart.totalPrice,\n  userAuth: firebase.currentUser\n});\n\nconst FormDialogConnected = connect(mapStateToProps, {\n  submitOrder,\n  submitOrderUnauth\n})(FormDialog);\n\nexport default FormDialogConnected;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport CartItem from '../CartItem/CartItem';\nimport FormDialog from '../FormDialog/FormDialog';\n\nimport {\n  removeItem,\n  increaseQuantity,\n  decreaseQuantity,\n  calculateTotalPrice\n} from '../../redux/actions/cart';\nimport './ShoppingCart.scss';\n\nconst ShoppingCart = ({\n  items,\n  numberOfItems,\n  total,\n  deliveryCost,\n}) => {\n  const history = useHistory();\n\n  return (\n      <div className=\"cart-content\">\n        <h2 className=\"cart-title\">\n          Your Shopping Cart:\n        </h2>\n\n\n        {numberOfItems ? (\n          <>\n            <ul className=\"cart-list\">\n              {items.map((item, ind) => (\n                <CartItem key={ind} {...item} />\n              ))}\n            </ul>\n            <h4 className=\"cart__total-price\">\n              Delivery Cost &mdash; {deliveryCost.toFixed(2)} &#36;\n              <div>{(deliveryCost*0.9).toFixed(2)} &euro;</div>\n            </h4>\n            <h4 className=\"cart__total-price\">\n              Total Price &mdash; {total.toFixed(2)} &#36;\n              <div>{(total*0.9).toFixed(2)} &euro;</div>\n            </h4>\n          </>\n          ) : (\n            <h4 className=\"cart__message\">\n              The shopping cart is empty. You can go back to the menu and choose something.\n            </h4>\n        )}\n\n        <div className=\"cart__button-group\">\n          <Button\n            size=\"large\"\n            color=\"primary\"\n            variant=\"outlined\"\n            onClick={() => history.push('/')}\n          >\n            Back to menu\n          </Button>\n\n          {numberOfItems ? (\n            <FormDialog />\n          ) : null}  \n        </div>\n\n      </div>\n  )\n};\n\nconst mapStateToProps = ({cart}) => ({\n  items: cart.items,\n  total: cart.totalPrice,\n  numberOfItems: cart.numberOfItems,\n  deliveryCost: cart.deliveryCost\n});\n\nconst ShoppingCartConnected = connect(mapStateToProps, {\n  removeItem,\n  increaseQuantity,\n  decreaseQuantity,\n  calculateTotalPrice\n})(ShoppingCart);\n\nexport default React.memo(ShoppingCartConnected);\n","import React from 'react';\nimport ShoppingCart from '../../components/ShoppingCart/ShoppingCart';\n\nconst CartPage = () => (\n  <div className=\"mainContent\">\n    <div className=\"container\">\n      <ShoppingCart />\n    </div>\n  </div>\n);\n\nexport default CartPage;\n","import React, {useEffect} from 'react';\nimport { connect } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { fetchHistory } from '../../redux/actions/firebase';\n\nimport './History.scss';\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n});\n\nconst History = ({userAuth, ordersHistory, fetchHistory}) => {\n  const classes = useStyles();\n\n  useEffect(() => {\n    if (userAuth) {\n      fetchHistory(userAuth);\n    }\n  }, [fetchHistory, userAuth])\n\n  return (\n    <>\n      <h2 className=\"history__title\">History of your orders:</h2>\n\n      {ordersHistory && ordersHistory.length > 0 ?\n        <TableContainer component={Paper}>\n          <Table className={classes.table}>\n            <TableHead>\n              <TableRow>\n                <TableCell align=\"left\">Date</TableCell>\n                <TableCell>Order details</TableCell>\n                <TableCell align=\"right\">Payment Method</TableCell>\n                <TableCell align=\"right\">Total Price, $</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {ordersHistory.map((order) => (\n                <TableRow key={order.id}>\n                  <TableCell align=\"left\">{order.date}</TableCell>\n                  <TableCell>\n                    {order.items.map(item => (\n                      <div>\n                        {`${item.quantity} ${item.title} (${item.size})`}\n                      </div>\n                      ))}\n                  </TableCell>\n                  <TableCell align=\"right\">{order.contacts.paymentMethod}</TableCell>\n                  <TableCell align=\"right\">{order.totalPrice}</TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer> : null}\n    </>\n  )\n}\n\nconst mapStateToProps = ({firebase}) => ({\n  userAuth: firebase.currentUser,\n  ordersHistory: firebase.history\n});\n\nconst HistoryConnected = connect(mapStateToProps, {\n  fetchHistory\n})(History)\n\nexport default HistoryConnected;\n","import React from 'react';\nimport History from '../../components/History/History';\n\nconst HistoryPage = () => (\n  <div className=\"mainContent\">\n    <div className=\"container container-sm\">\n      <History />\n    </div>\n</div>\n);\n\nexport default HistoryPage;\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Header from './components/Header/Header';\nimport Footer from './components/Footer/Footer';\nimport MainPage from './pages/Main/MainPage';\nimport CartPage from './pages/Cart/CartPage';\nimport HistoryPage from './pages/History/HistoryPage';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { authUser } from './redux/actions/firebase';\nimport { auth, createUserProfileDocument } from './firebase/firebase.utils';\n\nimport { items } from './menu-items-list.json';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#e64a19',\n    },\n    secondary: {\n      main: '#455a64',\n    },\n    accent: {\n      main: '#fff',\n    }\n  },\n});\n\nfunction App({authUser}) {\n\n  useEffect(() => {\n    const unsubscribeFromAuth = auth.onAuthStateChanged(async userAuthInfo => {\n      if (userAuthInfo) {\n        const userRef = await createUserProfileDocument(userAuthInfo);\n\n        userRef.onSnapshot(snapShot => {\n          authUser({\n            id: snapShot.id,\n            ...snapShot.data()\n          });\n        });\n      }\n\n      authUser(userAuthInfo);\n    });\n\n    return () => {\n      unsubscribeFromAuth();\n    }\n  }, [authUser]);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Router>\n        <div className=\"page\">\n          <Header />\n          <Switch>\n            <Route path='/' exact>\n              <MainPage items={items}/>\n            </Route>\n            <Route path='/cart' component={CartPage} />\n            <Route path='/history' component={HistoryPage} />\n          </Switch>\n          <Footer />\n        </div>\n      </Router>\n    </ThemeProvider>\n  );\n}\n\nconst AppConnected = connect(null, {authUser})(App);\n\nexport default AppConnected;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport './index.scss';\nimport App from './App.js';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// serviceWorker.unregister();\n"],"sourceRoot":""}